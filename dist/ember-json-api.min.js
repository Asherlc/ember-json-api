define("json-api-adapter",["exports"],function(e){"use strict";function r(e,r,t){this.status=e,this.message=r,this.xhr=t,this.stack=(new Error).stack}var t=Ember.get;DS._routes=Ember.create(null),DS.JsonApiAdapter=DS.RESTAdapter.extend({defaultSerializer:"DS/jsonApi",getRoute:function(e){return DS._routes[e]},buildURL:function(e,r,i){var n=this.getRoute(e,r,i);if(!n)return this._super(e,r,i);var a=[],s=t(this,"host"),o=this.urlPrefix(),l=/\{(.*?)\}/g;return a.push(r?l.test(n)?n.replace(l,r):n:n.replace(l,"")),o&&a.unshift(o),a=a.join("/"),!s&&a&&(a="/"+a),a},findBelongsTo:function(e,r,t,i){var n=r[i.key];if(!n)return this.ajax(t,"GET")},findMany:function(e,r,t,i){var n=t?t.join(","):null;return this.ajax(this.buildURL(r,n,i),"GET")},createRecord:function(e,r,t){var i=this._serializeData(e,r,t);return this.ajax(this.buildURL(r.typeKey),"POST",{data:i})},updateRecord:function(e,r,i){var n=this._serializeData(e,r,i),a=t(i,"id");return this.ajax(this.buildURL(r.typeKey,a,i),"PUT",{data:n})},_serializeData:function(e,r,t){var i=e.serializerFor(r.typeKey),n=t._createSnapshot(),a=Ember.String.pluralize(r.typeKey),s={};return s.data=i.serialize(n,{includeId:!0}),s.data.hasOwnProperty("type")||(s.data.type=a),s},_tryParseErrorResponse:function(e){try{return Ember.$.parseJSON(e)}catch(r){return"Something went wrong"}},ajaxError:function(e){var t,i=this._super(e);if(e&&"object"==typeof e){t=this._tryParseErrorResponse(e.responseText);var n={};return t&&"object"==typeof t&&void 0!==t.errors&&Ember.A(Ember.keys(t.errors)).forEach(function(e){n[Ember.String.camelize(e)]=t.errors[e]}),422===e.status?new DS.InvalidError(n):new r(e.status,t,e)}return i},pathForType:function(e){var r=Ember.String.decamelize(e);return Ember.String.pluralize(r).replace(/_/g,"-")}}),r.prototype=Ember.create(Error.prototype),r.constructor=r,DS.JsonApiAdapter.ServerError=r,e["default"]=DS.JsonApiAdapter}),define("json-api-serializer",["exports"],function(e){"use strict";function r(e,r,t){return t?{linkage:{id:t,type:Ember.String.pluralize(r)}}:{}}function t(e,r,t,i){var n,a,s=t.hasMany(i).mapBy("id")||[],o=Ember.String.pluralize(r),l=[];for(n=0,a=s.length;a>n;++n)l.push({id:s[n],type:o});return{linkage:l}}function i(e){return Ember.isEmpty(e)?null:Ember.isArray(e)?n(e):e.id}function n(e){if(Ember.isEmpty(e))return null;var r,t,i=[];for(r=0,t=e.length;t>r;++r)i.push(e[r].id);return i}var a=Ember.get,s=Ember.isNone,o=/(^https?:\/\/.*?)(\/.*)/;DS.JsonApiSerializer=DS.RESTSerializer.extend({primaryRecordKey:"data",sideloadedRecordsKey:"included",relationshipKey:"self",relatedResourceKey:"related",keyForRelationship:function(e){return e},normalize:function(e,r,t){var i={};for(var n in r)if("links"!==n){var a=Ember.String.camelize(n);i[a]=r[n]}else i[n]=r[n];return this._super(e,i,t)},normalizePayload:function(e){if(e){var r=e[this.primaryRecordKey];return r&&(Ember.isArray(r)?this.extractArrayData(r,e):this.extractSingleData(r,e),delete e[this.primaryRecordKey]),e.meta&&(this.extractMeta(e.meta),delete e.meta),e.links&&delete e.links,e[this.sideloadedRecordsKey]&&(this.extractSideloaded(e[this.sideloadedRecordsKey]),delete e[this.sideloadedRecordsKey]),e}},extractSingleData:function(e,r){e.links&&this.extractRelationships(e.links,e),r[e.type]=e,delete e.type},extractArrayData:function(e,r){var t=e.length>0?e[0].type:null,i=this;e.forEach(function(e){e.links&&i.extractRelationships(e.links,e)}),r[t]=e},extractSideloaded:function(e){var r=a(this,"store"),t={};e.forEach(function(e){var r=e.type;delete e.type,t[r]||(t[r]=[]),t[r].push(e)}),this.pushPayload(r,t)},extractRelationships:function(e,r){var t,n,a,s,o,l,u;r.links={};for(t in e)n=e[t],t=Ember.String.camelize(t.split(".").pop()),n&&("string"==typeof n?(n.indexOf("/")>-1?(s=n,a=null):(s=null,a=n),o=null):(o=n[this.relationshipKey],s=n[this.relatedResourceKey]||o,a=i(n.linkage)),s&&(l=this.removeHost(s),r.links[t]=l,u=a&&l.indexOf("{")<0?t+"."+a:t,DS._routes[u]=l.replace(/^\//,"")),a&&(r[t]=a));return r.links},removeHost:function(e){return e.replace(o,"$2")},serializeIntoHash:function(e,r,t,i){var n=Ember.String.pluralize(r.typeKey),a=this.serialize(t,i);a.hasOwnProperty("type")||(a.type=n),e[r.typeKey]=a},serializeBelongsTo:function(e,t,i){var n=i.key,o=e.belongsTo(n),l=this.keyForRelationship(i.type.typeKey),u=this.keyForRelationship(n);s(o)||(t.links=t.links||{},t.links[u]=r(u,l,a(o,"id")))},serializeHasMany:function(e,r,i){var n=i.key,a=this.keyForRelationship(i.type.typeKey),s=this.keyForRelationship(n);"hasMany"===i.kind&&(r.links=r.links||{},r.links[s]=t(s,a,e,n))}}),e["default"]=DS.JsonApiSerializer});